<?php
$maxColunas = 4;
$coluna = 0;
?>
<table class="table table-bordered caption-top">
    <caption>Painel de vagas</caption>
    <?php foreach ($vagas as $vaga): ?>

        <?php if (++$coluna === 1) : ?>
            <tr class="pb-3">
        <?php endif; ?>

        <td class="align-top p-0 pb-3" style="height: 1px">
            <?php echo $vaga->cardFormatado() ?>
        </td>

        <?php if ($coluna % $maxColunas === 0) : ?>
            </tr>
        <?php endif; ?>

    <?php endforeach; ?>

    <?php for (; $coluna % $maxColunas !== 0; $coluna++): ?>
        <td></td>
    <?php endfor; ?>
</table>