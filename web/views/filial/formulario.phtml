<div class="container container-sm w-50">
    <form method="post" action="/filial/processaCadastrar">
        <input type="hidden" name="filialId" value="<?= isset($filial) ? $filial->getId() : '' ?>"/>
        <div class="row g-3 align-items-center mb-2">
            <div class="col-md-7 form-floating">
                <input type="text" class="form-control" name="filialNome" value="<?= isset($filial) ? $filial->getNome() : '' ?>" id="filialNome" required>
                <label for="filialNome" class="col-form-label">Nome</label>
            </div>
            <div class="col-md-5 form-floating">
                <input type="text" class="form-control" name="filialCep" value="<?= isset($filial) ? $filial->getCep() : '' ?>" id="filialCep" minlength="8" maxlength="8" required oninput="this.value = this.value.replace(/[^0-9]/g, '');">
                <label for="filialCep" class="col-form-label">Cep</label>
            </div>
        </div>
        <div class="row g-3 align-items-center mb-2">
            <div class="col-md-12 form-floating">
                <input type="text" class="form-control" name="filialLogradouro" value="<?= isset($filial) ? $filial->getLogradouro() : '' ?>" id="filialLogradouro">
                <label for="filialLogradouro" class="col-form-label">Logradouro</label>
            </div>
        </div>
        <div class="row g-3 align-items-center mb-2">
            <div class="col-md-4 form-floating">
                <input type="text" class="form-control" name="filialNumero" value="<?= isset($filial) ? $filial->getNumero() : '' ?>" id="filialNumero">
                <label for="filialNumero" class="col-form-label">NÃºmero</label>
            </div>
            <div class="col-md-8 form-floating">
                <input type="text" class="form-control" name="filialComplemento" value="<?= isset($filial) ? $filial->getComplemento() : '' ?>" id="complemento">
                <label for="complemento" class="col-form-label">Complemento</label>
            </div>
        </div>
        <div class="row g-3 align-items-center mb-2">
            <div class="col-md-5 form-floating">
                <input type="text" class="form-control" name="filialBairro" value="<?= isset($filial) ? $filial->getBairro() : '' ?>" id="bairro">
                <label for="bairro" class="col-form-label">Bairro</label>
            </div>
            <div class="col-md-5 form-floating">
                <input type="text" class="form-control" name="filialCidade" value="<?= isset($filial) ? $filial->getCidade() : '' ?>" id="cidade" required>
                <label for="cidade" class="col-form-label">Cidade</label>
            </div>
            <div class="col-md-2 form-floating">
                <select class="form-control" name="filialEstado" id="filialEstado" required>
                    <option value="" disabled selected>-</option>
                    <?php foreach (EstadoEnum::forSelect() as $indice => $valor): ?>
                        <option value="<?= $indice ?>" <?= !empty($filial) && $filial->getEstado() == $indice ? 'selected' : ''?>><?= $valor ?></option>
                    <?php endforeach; ?>
                </select>
                <label for="filialEstado" class="col-form-label">Estado</label>
            </div>
        </div>
        <div class="row gy-3 gy-md-4 overflow-hidden mt-4 mb-2">
            <div class="col-12">
                <div class="d-grid">
                    <button class="btn btn-primary" type="submit">
                        <i class="fas fa-save"></i> Salvar
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>